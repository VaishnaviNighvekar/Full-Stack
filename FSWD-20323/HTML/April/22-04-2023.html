<html>
    <head>
        <style>

        </style>
    </head>
    <body>


        <script>

            /*
            
            
            const age=20

            const myPromis=new Promise((resolve,reject)=>{
                setTimeout(()=>{
                    if(age>18)
                    resolve('You can vote')
                    else
                    reject('You cannot vote')
                    },5000)
            }
            )

            console.log(myPromis)    //uptill 5 sec if we print myPromis the it will show pending, 
            and after that we can see the actuall result

            myPromis.then(res=>{
                console.log(res)
            }) // Every promise object will have a then method which will acquire the data of promise
            when it is available, in above case it will print the data when it is available, it executes only
            when promise is fullfiled ot it is resolved

            myPromis.catch(err=>{
                console.log(err)
            })// every promis also have a catch method which is used to show rejected message and executes
            only when the promise is rejected


            then() and catch() can be written combinly as follows
            myPromis
            .then(res=>{

            })
            .catch(err=>{

            })


        
            
            */
            


            /*
            fetch method
            
            
            const response= fetch('https://jsonplaceholder.typicode.com/todos')//used to requeted using get and get a respose
            console.log(response) // will print promise object and using then method we can get the response object


            response.then(resobj=>{
                console.log(resobj) // prints Response object which contain data stream , and this stream must be converted into json so our browser can understand
                const data=resobj.json() // we use json() to convert data stream , this returns another promise 
                data.then(actualdata=>{ //this promise contains our actual data which can be extracted using then() method
                    console.log(actualdata)
                })
            })


            short form for above code blocj->

            response
            .then(resobj=>{
                return resobj.json()
            })
            .then(actualdata=>{
                console.log(actualdata)
            })

            OR ->

            fetch('https://jsonplaceholder.typicode.com/todos')
            .then(resobj=>{
                return resobj.json()
            })
            .then(actualdata=>{
                console.log(actualdata)
            })


            if we go to network tab in browser we can se the respose that fetch method has fetched from the link
            
            */


            const response= fetch('https://jsonplaceholder.typicode.com/todos')
            console.log(response)

            response.then(resobj=>{
                console.log(resobj)
                const data=resobj.json()
                data.then(actualdata=>{
                    console.log(actualdata)
                })
            })
        </script>
    </body>
</html>